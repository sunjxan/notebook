## V2ray

### 服务器

1. 下载并执行install.sh：

```
cd ~
wget https://raw.githubusercontent.com/233boy/v2ray/master/install.sh
sudo bash install.sh
```

2. 按提示操作：

- 安装
- 默认协议：TCP
- 默认端口
- 广告拦截：一般不需要开启
- 是否配置 Shadowsocks：否

3. 安装BBR：

```
sudo v2ray bbr
```

4. 查看配置：
```
# 生成链接
sudo v2ray url

# 生成二维码
sudo v2ray url | grep -o "vmess://[A-Za-z0-9+/=]*" | qrencode -t UTF8
```

5. 管理：
```
sudo v2ray
```

6. 使用 `systemd` 管理：

```
sudo systemctl status v2ray
sudo systemctl stop v2ray
sudo systemctl start v2ray

# 设置开机启动
sudo systemctl enable v2ray
```

### 客户端

https://tlanyan.me/v2ray-clients-download/

iOS暂时没有免费客户端，可以搜索分享的Apple Id登录下载，如 https://appledi.com/

## ShadowsocksR

###  服务器

1. 下载并执行ssr.sh：

```
cd /usr/local
sudo wget https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssr.sh
sudo bash ssr.sh
```

2. 按提示操作：
- 安装 ShadowsocksR
- 端口，默认: 2333
- 密码，建议不要使用默认密码
- 加密方式，aes-256-cfb
- 协议，auth_sha1_v4
- 混淆方式，tls1.2_ticket_auth

3. 安装完成后，会有安装成功的提示，记住刚才设置的各项参数，在客户端连接时需要用到，使用链接生成二维码：

```
qrencode -t UTF8 <SSR链接>
```

4. 再次执行脚本进行管理：

```
sudo bash ssr.sh
```

5. 使用 `systemd` 管理：

```
sudo systemctl status ssr
sudo systemctl stop ssr
sudo systemctl start ssr

# 设置开机启动
sudo systemctl enable ssr
```

### 客户端

https://tlanyan.me/shadowsockr-shadowsocksr-shadowsocksrr-clients/

更新PAC为GFWList：

```
wget https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/pac_get.sh
bash pac_get.sh

# 得到pac.txt，先关闭ShadowsockR,再复制pac.txt覆盖旧文件
```

## Windows代理

- Powershell 无需设置

- cmd设置

```
# 监听端口为1080
#启用代理
set http_proxy=http://localhost:1081
set https_proxy=http://localhost:1081
# 关闭代理
set http_proxy=
set https_proxy=
```

- WSL 设置

防火墙设置，`Privoxy` 专用网络、公用网络都允许访问；

```
# 监听端口为1080，允许来自局域网的连接
#启用代理
export http_proxy=http://<WINIP>:1081
export https_proxy=http://<WINIP>:1081
# 关闭代理
unset http_proxy
unset https_proxy

# 在~/.zshrc文件追加，并使之生效，之后通过运行proxy命令启用代理，运行unproxy命令关闭代理，这样就可以在代理与非代理之间切换自如了
alias proxy="export http_proxy=http://windows:1081;export https_proxy=http://windows:1081" 
alias unproxy="unset http_proxy;unset https_proxy"
```
