**排序学习（Learning to Rank，LTR），也称机器排序学习（Machine-learned Ranking，MLR) ，就是使用机器学习的技术解决排序问题。**

样本：对用户行为数据进行处理得到

特征：用户、物品、场景、媒体

目标：点击率（Click Through Rate，CTR），对应用户行为数据中的“是否点击”

预测模型：预估物品是否被点击，是一个两类分类问题

模型分类：Point Wise（得到单个元素的值）、Pair Wise（得到两两元素之间前后关系）、List Wise（得到整个排序列表）

性能评估：准确率、召回率、AUC

### 离线层

##### 特征提取

1. 抽取用户和物品特征，保存到HBase数据库；

2. 获取用户行为数据，作为标签，与特征组成训练样本；

##### 特征交叉


##### 训练模型

使用样本数据训练模型，并部署模型提供服务；

##### 定时执行

与数据库迁移协调，使用Supervisor + APScheduler配置定时执行；

### 近线层

实时收集用户行为反馈，并选择训练实例，实时抽取拼接特征，并近乎实时地更新在线推荐模型；

### 在线层

1. 获取用户和物品特征；
2. 使用排序模型预测结果；
3. 对结果按照预测值降序排序；
4. 取预测值大的一部分作为最终的物品列表；



1. LR、FTRL、GBDT

2. FM、FFM

3. DNN

4. Wide&Deep

5. DeepFM
